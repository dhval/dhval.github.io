<!DOCTYPE html>
<html>

<head>
    <title>Unicode - Character Encoding – Dhval Mudawal – Rants</title>
    <meta charset="utf-8" />
<meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
<meta http-equiv='X-UA-Compatible' content='IE=edge'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'> 
<meta name="description" content="UTF-8 was designed to be backward compatible with ASCII. UTF-8 is variable-width encoding, a single character can be represented using one to four bytes. " />
<meta property="og:description" content="UTF-8 was designed to be backward compatible with ASCII. UTF-8 is variable-width encoding, a single character can be represented using one to four bytes. " /> 
<meta name="author" content="Dhval Mudawal" /> 
<meta property="og:title" content="Unicode - Character Encoding" />
<meta property="twitter:title" content="Unicode - Character Encoding" /> 
    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- Twitter Bootstrap css -->
    <link href="/css/font-awesome.min.css">
    <link href="/dist/bootstrap/css/bootstrap.css" rel="stylesheet">
    <!-- Your css -->
    <link href="/css/base-war.css" rel="stylesheet">
    <link href="/css/dhval.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <!-- Vendor js -->
    <script type="text/javascript" charset="utf-8" src="/dist/requirejs/require.js"></script>
    <script type="text/javascript" charset="utf-8" src="/dist/modernizr/modernizr.js"></script>
    <!-- Your js -->
    <script type="text/javascript" charset="utf-8" src="/js/require.config.js"></script>
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="alternate" type="application/rss+xml" title="Dhval Mudawal - Rants" href="/feed.xml" />
</head>

<body>
        <div class="container">
        <header class="masthead clearfix">
            <a href="/" class="site-avatar"><img class="img-thumbnail" src="https://raw.githubusercontent.com/barryclark/jekyll-now/master/images/jekyll-logo.png" /></a>
            <div class="site-info">
                <h1 class="site-name"><a href="/">Dhval Mudawal</a></h1>
                <p class="site-description">
                     Unicode - Character Encoding 
                     | Updated: August 23, 2015
                    
                </p>
            </div>
            <nav>
                <a href="/">Home</a>
                <a href="/about">About</a>
            </nav>
        </header>
    </div>

    <div id="main" role="main" class="container">
        <article class="post">
  <div class="date">
	 <a href="https://www.evernote.com/shard/s11/sh/c27db6b0-c22d-4971-8f5e-12f3a0cf5b97/ec0e26b9c2591a09df20a52308c2935d/">View on Evernote.com</a> 
  </div>

  <div class="entry">
    <p><en-note style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">
<div dir="ltr" lang="en" style="background-attachment: scroll; background-color: transparent; background-image: none; border-bottom-color: rgb(0, 0, 0); border-bottom-style: none; border-bottom-width: 0px; border-left-color: rgb(0, 0, 0); border-left-style: none; border-left-width: 0px; border-right-color: rgb(0, 0, 0); border-right-style: none; border-right-width: 0px; border-top-color: rgb(0, 0, 0); border-top-style: none; border-top-width: 0px; bottom: auto; caption-side: top; clear: none; clip: auto; content: none; counter-increment: none; counter-reset: none; cursor: auto; direction: ltr; display: block; empty-cells: show; float: none; height: 9057.15px; left: auto; list-style-image: none; list-style-position: outside; list-style-type: disc; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; max-height: none; max-width: none; min-height: 0px; min-width: 0px; opacity: 1; outline-color: rgb(0, 0, 0); outline-style: none; outline-width: 0px; outline-offset: 0px; overflow-x: visible; overflow-y: visible; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px; page-break-after: auto; page-break-before: auto; pointer-events: auto; position: static; quotes: “, ”, ‘, ’; right: auto; table-layout: auto; text-align: start; text-indent: 0px; text-shadow: none; top: auto; unicode-bidi: embed; vertical-align: baseline; visibility: visible; width: 1071px; z-index: auto; background-clip: border-box; background-origin: padding-box; background-size: ; border-bottom-left-radius: 0px 0px; border-bottom-right-radius: 0px 0px; border-top-left-radius: 0px 0px; border-top-right-radius: 0px 0px; box-shadow: none; resize: none; word-wrap: normal; clip-path: none; clip-rule: nonzero; color-interpolation: srgb; color-interpolation-filters: linearrgb; dominant-baseline: auto; fill: #000000; fill-opacity: 1; fill-rule: nonzero; filter: none; flood-color: #000000; flood-opacity: 1; lighting-color: #ffffff; image-rendering: auto; mask: none; marker-end: none; marker-mid: none; marker-start: none; shape-rendering: auto; stop-color: #000000; stop-opacity: 1; stroke: none; stroke-dasharray: none; stroke-dashoffset: 0px; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 4; stroke-opacity: 1; stroke-width: 1px; text-anchor: start; text-rendering: auto; background-position: 0% 0%; background-repeat: repeat repeat;" xml:lang="en">
<div style="background-attachment: scroll; background-color: transparent; background-image: none; border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(170, 170, 170); border-style: none none solid; border-width: 0px 0px 1px; border-collapse: separate; border-spacing: 0px; bottom: auto; caption-side: top; clear: none; clip: auto; content: none; counter-increment: none; counter-reset: none; cursor: auto; direction: ltr; display: block; empty-cells: show; float: none; height: auto; left: auto; list-style: disc outside none; margin: 0px 0px 14.4px; max-height: none; max-width: none; min-height: 0px; min-width: 0px; opacity: 1; outline: rgb(0, 0, 0) none 0px; outline-offset: 0px; overflow: hidden; padding: 12px 0px 4.08333px; page-break-after: auto; page-break-before: auto; pointer-events: auto; position: static; right: auto; table-layout: auto; text-align: start; text-indent: 0px; text-shadow: none; top: auto; unicode-bidi: embed; vertical-align: baseline; visibility: visible; width: auto; z-index: auto; background-clip: border-box; background-origin: padding-box; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; box-shadow: none; resize: none; word-wrap: normal; clip-path: none; clip-rule: nonzero; color-interpolation: srgb; color-interpolation-filters: linearrgb; dominant-baseline: auto; fill: #000000; fill-opacity: 1; fill-rule: nonzero; filter: none; flood-color: #000000; flood-opacity: 1; lighting-color: #ffffff; image-rendering: auto; mask: none; marker-end: none; marker-mid: none; marker-start: none; shape-rendering: auto; stop-color: #000000; stop-opacity: 1; stroke: none; stroke-dasharray: none; stroke-dashoffset: 0px; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 4; stroke-opacity: 1; stroke-width: 1px; text-anchor: start; text-rendering: auto; background-position: 0% 0%;">
<div><span style="font-family: Arial;">UTF-8 was designed to be backward compatible with ASCII. UTF-8 is variable-width encoding, a single character can be represented using one to four bytes. </span></div>
<div><span style="font-family: Arial;"><br/></span></div>
<ul>
<li style="padding: 0px; border: 0px; word-wrap: break-word;"><span style="font-family: Arial;"><span style="color: rgb(34, 34, 34);">The most significant bit of a single-byte character is always 0. For multi byte characters MSB is always 1 and can be ignored by ASCII readers. This allows backward compatibility with ASCII.</span></span></li>
<li style="padding: 0px; border: 0px; word-wrap: break-word;"><span style="font-family: Arial;"><span style="color: rgb(34, 34, 34);">The bits are 110 for two-byte sequences; 1110 for three-byte sequences, and so on.</span></span></li>
<li style="padding: 0px; border: 0px; word-wrap: break-word;"><span style="font-family: Arial;"><span style="color: rgb(34, 34, 34);">The remaining bytes in a multi-byte sequence have 10 as their two most significant bits.</span></span></li>
<li style="padding: 0px; border: 0px; word-wrap: break-word;"><span style="font-family: Arial;"><span style="color: rgb(34, 34, 34);">A UTF-8 stream contains neither the byte FE nor FF. This makes sure that a UTF-8 stream never looks like a UTF-16 stream starting with U+FEFF (Byte-order mark)</span></span></li>
</ul>
<div><span style="font-family: Arial;"><br/></span></div>
<div><span style="font-family: Arial;">First 128 characters (US-ASCII =&gt; U+0000 - U+007F) need one byte. The next 1,920 characters ( U+0080 - U+07FF ) need two bytes to encode. Four bytes are needed for characters in the <a href="http://en.wikipedia.org/wiki/Mapping_of_Unicode_characters" title="Mapping of Unicode characters">other planes of Unicode</a>, which include less common <a href="http://en.wikipedia.org/wiki/CJK_characters" title="CJK characters">CJK characters</a> (Chinese, Japanese, Korean) and various historic scripts.</span></div>
<div><span style="font-family: Arial;"><br/></span></div>
<div><span style="font-family: Arial;">Code point - U+0065 or \u0065</span></div>
<div><span style="font-family: Arial;"><br/></span></div>
<div><span style="font-family: Arial;">Byte order mark (BOM) - It is needed because of endianness when storing multi byte data. XML avoids this by using UTF-8 by default.</span></div>
<div><span style="font-family: Arial;"><br/></span></div>
<div>
<p style="box-sizing: border-box; color: rgb(64, 64, 64); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="font-family: Arial;">Unicode defines 6 different BOM:</span></p>
<div style="box-sizing: border-box; max-width: 100%; overflow: auto; color: rgb(64, 64, 64); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);">
<table border="1" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; empty-cells: show; border: 1px solid rgb(225, 228, 229);">
<colgroup style="box-sizing: border-box;">
<col style="box-sizing: border-box;" width="49%"></col>
<col style="box-sizing: border-box;" width="32%"></col>
<col style="box-sizing: border-box;" width="19%"></col></colgroup>
<thead style="box-sizing: border-box; color: rgb(0, 0, 0); text-align: left; vertical-align: bottom; white-space: nowrap;" valign="bottom">
<tr style="box-sizing: border-box;">
<th style="box-sizing: border-box; white-space: nowrap; overflow: visible; padding: 8px 16px; font-weight: bold; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: rgb(225, 228, 229); border-left-width: 0px;"><span style="font-family: Arial;">BOM</span></th>
<th style="box-sizing: border-box; white-space: nowrap; overflow: visible; padding: 8px 16px; font-weight: bold; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: rgb(225, 228, 229);"><span style="font-family: Arial;">Encoding</span></th>
<th style="box-sizing: border-box; white-space: nowrap; overflow: visible; padding: 8px 16px; font-weight: bold; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: rgb(225, 228, 229);"><span style="font-family: Arial;">Endian</span></th>
</tr>
</thead>
<tbody style="box-sizing: border-box;" valign="top">
<tr style="box-sizing: border-box;">
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 0px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: rgb(243, 246, 246);"><span style="font-family: Arial;"><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; border: 1px solid rgb(225, 228, 229); padding: 0px 5px; color: rgb(0, 0, 0); overflow-x: auto; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box;">0x2B</span> <span style="box-sizing: border-box;">0x2F</span> <span style="box-sizing: border-box;">0x76</span> <span style="box-sizing: border-box;">0x38</span> <span style="box-sizing: border-box;">0x2D</span></span> (5 bytes)</span></td>
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: rgb(243, 246, 246);"><span style="font-family: Arial;"><a href="http://unicodebook.readthedocs.org/en/latest/unicode_encodings.html#utf7" style="box-sizing: border-box; color: rgb(155, 89, 182); text-decoration: none; cursor: pointer;"><em style="box-sizing: border-box;">UTF-7</em></a></span></td>
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: rgb(243, 246, 246);"><span style="font-family: Arial;"><em style="box-sizing: border-box;">endianless</em></span></td>
</tr>
<tr style="box-sizing: border-box;">
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 0px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: transparent;"><span style="font-family: Arial;"><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; border: 1px solid rgb(225, 228, 229); padding: 0px 5px; color: rgb(0, 0, 0); overflow-x: auto; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box;">0xEF</span> <span style="box-sizing: border-box;">0xBB</span> <span style="box-sizing: border-box;">0xBF</span></span> (3)</span></td>
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: transparent;"><span style="font-family: Arial;"><a href="http://unicodebook.readthedocs.org/en/latest/unicode_encodings.html#utf8" style="box-sizing: border-box; color: rgb(155, 89, 182); text-decoration: none; cursor: pointer;"><em style="box-sizing: border-box;">UTF-8</em></a></span></td>
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: transparent;"><span style="font-family: Arial;"><em style="box-sizing: border-box;">endianless</em></span></td>
</tr>
<tr style="box-sizing: border-box;">
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 0px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: rgb(243, 246, 246);"><span style="font-family: Arial;"><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; border: 1px solid rgb(225, 228, 229); padding: 0px 5px; color: rgb(0, 0, 0); overflow-x: auto; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box;">0xFF</span> <span style="box-sizing: border-box;">0xFE</span></span> (2)</span></td>
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: rgb(243, 246, 246);"><span style="font-family: Arial;"><a href="http://unicodebook.readthedocs.org/en/latest/unicode_encodings.html#utf16" style="box-sizing: border-box; color: rgb(155, 89, 182); text-decoration: none; cursor: pointer;"><em style="box-sizing: border-box;">UTF-16-LE</em></a></span></td>
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: rgb(243, 246, 246);"><span style="font-family: Arial;">little endian</span></td>
</tr>
<tr style="box-sizing: border-box;">
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 0px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: transparent;"><span style="font-family: Arial;"><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; border: 1px solid rgb(225, 228, 229); padding: 0px 5px; color: rgb(0, 0, 0); overflow-x: auto; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box;">0xFE</span> <span style="box-sizing: border-box;">0xFF</span></span> (2)</span></td>
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: transparent;"><span style="font-family: Arial;"><a href="http://unicodebook.readthedocs.org/en/latest/unicode_encodings.html#utf16" style="box-sizing: border-box; color: rgb(155, 89, 182); text-decoration: none; cursor: pointer;"><em style="box-sizing: border-box;">UTF-16-BE</em></a></span></td>
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: transparent;"><span style="font-family: Arial;">big endian</span></td>
</tr>
<tr style="box-sizing: border-box;">
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 0px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: rgb(243, 246, 246);"><span style="font-family: Arial;"><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; border: 1px solid rgb(225, 228, 229); padding: 0px 5px; color: rgb(0, 0, 0); overflow-x: auto; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box;">0xFF</span> <span style="box-sizing: border-box;">0xFE</span> <span style="box-sizing: border-box;">0x00</span> <span style="box-sizing: border-box;">0x00</span></span> (4)</span></td>
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: rgb(243, 246, 246);"><span style="font-family: Arial;"><a href="http://unicodebook.readthedocs.org/en/latest/unicode_encodings.html#utf32" style="box-sizing: border-box; color: rgb(155, 89, 182); text-decoration: none; cursor: pointer;"><em style="box-sizing: border-box;">UTF-32-LE</em></a></span></td>
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: rgb(243, 246, 246);"><span style="font-family: Arial;">little endian</span></td>
</tr>
<tr style="box-sizing: border-box;">
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 0px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: transparent;"><span style="font-family: Arial;"><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; border: 1px solid rgb(225, 228, 229); padding: 0px 5px; color: rgb(0, 0, 0); overflow-x: auto; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box;">0x00</span> <span style="box-sizing: border-box;">0x00</span> <span style="box-sizing: border-box;">0xFE</span> <span style="box-sizing: border-box;">0xFF</span></span> (4)</span></td>
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: transparent;"><span style="font-family: Arial;"><a href="http://unicodebook.readthedocs.org/en/latest/unicode_encodings.html#utf32" style="box-sizing: border-box; color: rgb(155, 89, 182); text-decoration: none; cursor: pointer;"><em style="box-sizing: border-box;">UTF-32-BE</em></a></span></td>
<td style="box-sizing: border-box; vertical-align: middle; white-space: nowrap; overflow: visible; padding: 8px 16px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: rgb(225, 228, 229); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(225, 228, 229); background-color: transparent;"><span style="font-family: Arial;">big endian</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<div><span style="font-family: Arial;"> </span></div>
<div><span style="font-family: Arial;"><br/></span></div>
<div><span style="font-family: Arial;">Non <a href="http://www.sttmedia.com/unicode-basiclingualplane">BMP</a> - Emoticons, CJK ( Rare Chinese/Japanese/Korean Characters ) and Math characters not part of Basic Multilingual Plane. UTF-16 divides character sets into multiple planes.</span></div>
<div><span style="font-family: Arial;"><br/></span></div>
<div><span style="font-family: Arial;"><a href="https://en.wikipedia.org/wiki/UTF-8#Compared_to_UTF-16">UTF 8 vs 16</a></span></div>
<div><span style="font-family: Arial;"><br/></span></div>
<div><span style="font-family: Arial;">UTF-16 has either 2 or 4 bytes. <span style="color: rgb(60, 70, 70); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; background-color: rgb(253, 253, 253);">Basic Multilingual Plane (Plane 0, BMP). </span>For non-BMP character sets UTF-16 uses <b>surrogate pairs</b> (low and high), each of two byte.</span></div>
<div><span style="font-family: Arial;"><br/></span></div>
<div><span style="font-family: Arial;">- UTF-16 uses two to four byte, encoded files are larger than UTF-8.</span></div>
<div><span style="font-family: Arial;">- UTF-16 is not compatible with ASCII since it uses minimum 2 bytes.</span></div>
<div><span style="font-family: Arial;">- UTF-16 suffers from endianness as it has two characters, to compensate we need to add byte order mark.</span></div>
<div><span style="font-family: Arial;">- UTF-8 is byte oriented while UTF-16 is not. UTF-8 is better in recovering from errors compared to UTF-16.</span></div>
<div><span style="font-family: Arial;"><br/></span></div>
<div><span style="font-family: Arial;">+ U+0800 to U+FFFF ( Chinese, Hindi or Non-BMP ) uses 3 bytes in UTF-8 while just two in UTF-16.</span></div>
<div><span style="font-family: Arial;">+ It is easier to stick with one encoding as various libraries do not have to do interchange. Also unicode does not have any marker bits except for surrogate,</span></div>
<div><span style="font-family: Arial;"><br/></span></div>
<div><span style="font-family: Arial;"><a href="https://en.wikipedia.org/wiki/Base64">Base64</a></span></div>
<div><span style="font-family: Arial;"><br/></span></div>
<div><span style="font-family: Arial;">s</span></div>
<div><span style="font-family: Arial;"><br/></span></div>
</div>
<table style="background-attachment: scroll; background-color: rgb(249, 249, 249); background-image: none; border: 1px solid rgb(170, 170, 170); border-collapse: collapse; border-spacing: 2px; bottom: auto; caption-side: top; clear: none; clip: auto; color: rgb(0, 0, 0); content: none; counter-increment: none; counter-reset: none; cursor: auto; direction: ltr; display: table; empty-cells: show; float: none; font-style: normal; font-variant: normal; font-weight: 400; height: auto; left: auto; letter-spacing: normal; list-style: disc outside none; margin: 16px 16px 16px 0px; max-height: none; max-width: none; min-height: 0px; min-width: 0px; opacity: 1; outline: rgb(0, 0, 0) none 0px; outline-offset: 0px; overflow: visible; padding: 0px; page-break-after: auto; page-break-before: auto; pointer-events: auto; position: static; right: auto; table-layout: auto; text-align: start; text-decoration: none; text-indent: 0px; text-shadow: none; text-transform: none; top: auto; unicode-bidi: embed; vertical-align: baseline; visibility: visible; white-space: normal; width: auto; word-spacing: 0px; z-index: auto; background-clip: border-box; background-origin: padding-box; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; box-shadow: none; resize: none; word-wrap: normal; clip-path: none; clip-rule: nonzero; color-interpolation: srgb; color-interpolation-filters: linearrgb; dominant-baseline: auto; fill: #000000; fill-opacity: 1; fill-rule: nonzero; filter: none; flood-color: #000000; flood-opacity: 1; lighting-color: #ffffff; image-rendering: auto; mask: none; marker-end: none; marker-mid: none; marker-start: none; shape-rendering: auto; stop-color: #000000; stop-opacity: 1; stroke: none; stroke-dasharray: none; stroke-dashoffset: 0px; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 4; stroke-opacity: 1; stroke-width: 1px; text-anchor: start; text-rendering: auto; background-position: 0% 0%;">
<tbody style="background-color:transparent;border-bottom-color:rgb(0, 0, 0);border-bottom-style:none;border-bottom-width:0px;border-left-color:rgb(0, 0, 0);border-left-style:none;border-left-width:0px;border-right-color:rgb(0, 0, 0);border-right-style:none;border-right-width:0px;border-top-color:rgb(0, 0, 0);border-top-style:none;border-top-width:0px;display:table-row-group;margin-bottom:0px;margin-right:0px;margin-top:0px;vertical-align:middle;-moz-box-sizing:content-box;">
<tr style="display:table-row;">
<th style="background-color:rgb(242, 242, 242);border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;font-weight:700;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;text-align:center;"><span style="font-family: Arial;">Bits</span></th>
<th style="background-color:rgb(242, 242, 242);border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;font-weight:700;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;text-align:center;"><span style="font-family: Arial;">Last code point</span></th>
<th style="background-color:rgb(242, 242, 242);border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;font-weight:700;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;text-align:center;"><span style="font-family: Arial;">Byte 1</span></th>
<th style="background-color:rgb(242, 242, 242);border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;font-weight:700;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;text-align:center;"><span style="font-family: Arial;">Byte 2</span></th>
<th style="background-color:rgb(242, 242, 242);border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;font-weight:700;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;text-align:center;"><span style="font-family: Arial;">Byte 3</span></th>
<th style="background-color:rgb(242, 242, 242);border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;font-weight:700;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;text-align:center;"><span style="font-family: Arial;">Byte 4</span></th>
<th style="background-color:rgb(242, 242, 242);border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;font-weight:700;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;text-align:center;"><span style="font-family: Arial;">Byte 5</span></th>
<th style="background-color:rgb(242, 242, 242);border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;font-weight:700;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;text-align:center;"><span style="font-family: Arial;">Byte 6</span></th>
</tr>
<tr style="display:table-row;">
<th style="background-color:rgb(242, 242, 242);border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;font-weight:700;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;text-align:center;"><span style="font-family: Arial;">  7</span></th>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">U+007F</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">0xxxxxxx</span></td>
</tr>
<tr style="display:table-row;">
<th style="background-color:rgb(242, 242, 242);border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;font-weight:700;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;text-align:center;"><span style="font-family: Arial;">11</span></th>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">U+07FF</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">110xxxxx</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">10xxxxxx</span></td>
</tr>
<tr style="display:table-row;">
<th style="background-color:rgb(242, 242, 242);border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;font-weight:700;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;text-align:center;"><span style="font-family: Arial;">16</span></th>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">U+FFFF</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">1110xxxx</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">10xxxxxx</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">10xxxxxx</span></td>
</tr>
<tr style="display:table-row;">
<th style="background-color:rgb(242, 242, 242);border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;font-weight:700;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;text-align:center;"><span style="font-family: Arial;">21</span></th>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">U+1FFFFF</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">11110xxx</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">10xxxxxx</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">10xxxxxx</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">10xxxxxx</span></td>
</tr>
<tr style="display:table-row;">
<th style="background-color:rgb(242, 242, 242);border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;font-weight:700;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;text-align:center;"><span style="font-family: Arial;">26</span></th>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">U+3FFFFFF</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">111110xx</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">10xxxxxx</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">10xxxxxx</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">10xxxxxx</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">10xxxxxx</span></td>
</tr>
<tr style="display:table-row;">
<th style="background-color:rgb(242, 242, 242);border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;font-weight:700;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;text-align:center;"><span style="font-family: Arial;">31</span></th>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">U+7FFFFFFF</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">1111110x</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">10xxxxxx</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">10xxxxxx</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">10xxxxxx</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">10xxxxxx</span></td>
<td style="border-bottom-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-width:1px;border-left-color:rgb(170, 170, 170);border-left-style:solid;border-left-width:1px;border-right-color:rgb(170, 170, 170);border-right-style:solid;border-right-width:1px;border-top-color:rgb(170, 170, 170);border-top-style:solid;border-top-width:1px;display:table-cell;padding-bottom:3.2px;padding-left:3.2px;padding-right:3.2px;padding-top:3.2px;"><span style="font-family: Arial;">10xxxxxx</span></td>
</tr>
</tbody>
</table>
<p style="background-attachment: scroll; background-color: transparent; background-image: none; border: 0px none rgb(0, 0, 0); border-collapse: separate; border-spacing: 0px; bottom: auto; caption-side: top; clear: none; clip: auto; color: rgb(0, 0, 0); content: none; counter-increment: none; counter-reset: none; cursor: auto; direction: ltr; display: block; empty-cells: show; float: none; font-style: normal; font-variant: normal; font-weight: 400; height: auto; left: auto; letter-spacing: normal; list-style: disc outside none; margin: 6.4px 0px 8px; max-height: none; max-width: none; min-height: 0px; min-width: 0px; opacity: 1; outline: rgb(0, 0, 0) none 0px; outline-offset: 0px; overflow: visible; padding: 0px; page-break-after: auto; page-break-before: auto; pointer-events: auto; position: static; right: auto; table-layout: auto; text-align: start; text-decoration: none; text-indent: 0px; text-shadow: none; text-transform: none; top: auto; unicode-bidi: embed; vertical-align: baseline; visibility: visible; white-space: normal; width: auto; word-spacing: 0px; z-index: auto; background-clip: border-box; background-origin: padding-box; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; box-shadow: none; resize: none; word-wrap: normal; clip-path: none; clip-rule: nonzero; color-interpolation: srgb; color-interpolation-filters: linearrgb; dominant-baseline: auto; fill: #000000; fill-opacity: 1; fill-rule: nonzero; filter: none; flood-color: #000000; flood-opacity: 1; lighting-color: #ffffff; image-rendering: auto; mask: none; marker-end: none; marker-mid: none; marker-start: none; shape-rendering: auto; stop-color: #000000; stop-opacity: 1; stroke: none; stroke-dasharray: none; stroke-dashoffset: 0px; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 4; stroke-opacity: 1; stroke-width: 1px; text-anchor: start; text-rendering: auto; background-position: 0% 0%;"><span style="font-family: Arial;">The salient features of the above scheme are as follows:</span></p>
<ol style="background-attachment: scroll; background-color: transparent; background-image: none; border: 0px none rgb(0, 0, 0); border-collapse: separate; border-spacing: 0px; bottom: auto; caption-side: top; clear: none; clip: auto; content: none; counter-increment: none; counter-reset: none; cursor: auto; direction: ltr; display: block; empty-cells: show; float: none; font-style: normal; font-variant: normal; font-weight: 400; height: auto; left: auto; letter-spacing: normal; list-style: decimal outside none; margin: 4.8px 0px 0px 51.2px; max-height: none; max-width: none; min-height: 0px; min-width: 0px; opacity: 1; outline: rgb(0, 0, 0) none 0px; outline-offset: 0px; overflow: visible; padding: 0px; page-break-after: auto; page-break-before: auto; pointer-events: auto; position: static; right: auto; table-layout: auto; text-align: start; text-indent: 0px; text-shadow: none; text-transform: none; top: auto; unicode-bidi: embed; vertical-align: baseline; visibility: visible; white-space: normal; width: auto; word-spacing: 0px; z-index: auto; background-clip: border-box; background-origin: padding-box; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; box-shadow: none; resize: none; word-wrap: normal; clip-path: none; clip-rule: nonzero; color-interpolation: srgb; color-interpolation-filters: linearrgb; dominant-baseline: auto; fill: #000000; fill-opacity: 1; fill-rule: nonzero; filter: none; flood-color: #000000; flood-opacity: 1; lighting-color: #ffffff; image-rendering: auto; mask: none; marker-end: none; marker-mid: none; marker-start: none; shape-rendering: auto; stop-color: #000000; stop-opacity: 1; stroke: none; stroke-dasharray: none; stroke-dashoffset: 0px; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 4; stroke-opacity: 1; stroke-width: 1px; text-anchor: start; text-rendering: auto; background-position: 0% 0%;">
<li style="text-decoration: none; display: list-item; margin-bottom: 1.6px; margin-left: 0px; margin-top: 0px;"><span style="font-family: Arial;">Every valid ASCII character is also a valid UTF‑8 encoded Unicode character with the same binary value.<span style="display:inline;margin-bottom:0px;unicode-bidi:normal;white-space:nowrap;"> </span> (Thus, valid ASCII text is also valid UTF‑8-encoded Unicode text.)</span></li>
<li style="display: list-item; margin-bottom: 1.6px; margin-left: 0px; margin-top: 0px;"><span style="font-family: Arial;">For every UTF‑8 byte sequence corresponding to a single Unicode character, the <u>first byte unambiguously indicates the length of the sequence in bytes</u>.</span></li>
<li style="text-decoration: none; display: list-item; margin-bottom: 1.6px; margin-left: 0px; margin-top: 0px;"><span style="font-family: Arial;">All continuation bytes (byte nos. 2 – 6 in the table above) have <span style="font-size: 14px;"><code style="background-color: rgb(249, 249, 249); display: inline; margin-bottom: 0px; unicode-bidi: normal;"><span style="font-family: Arial;">10</span></code> as their two most-significant bits (bits 7 – 6); in contrast, the first byte never has <code style="background-color: rgb(249, 249, 249); display: inline; margin-bottom: 0px; unicode-bidi: normal;"><span style="font-family: Arial;">10</span></code> as its two most-significant bits.<span style="display:inline;margin-bottom:0px;unicode-bidi:normal;white-space:nowrap;"> </span> As a result, it is immediately obvious whether any given byte anywhere in a (valid) UTF‑8 stream represents the first byte of a byte sequence corresponding to a single character, or a continuation byte of such a byte sequence.</span></span></li>
<li style="display: list-item; margin-bottom: 1.6px; margin-left: 0px; margin-top: 0px;"><span style="font-family: Arial;"><span style="text-decoration: none;">As a consequence of no.</span><span style="text-decoration: none;"><span style="display:inline;margin-bottom:0px;unicode-bidi:normal;white-space:nowrap;"> </span></span><span style="text-decoration: none;">3 above, starting with any arbitrary byte anywhere in a (valid) UTF‑8 stream, it is necessary to back up by only at most five bytes in order to get to the beginning of the byte sequence corresponding to a single character (three bytes in actual UTF‑8 as explained in the next section). If it is not possible to back up, or a byte is missing because of e.g. a communication failure,</span> <u>one single character can be discarded, and the next character be correctly read</u>.</span></li>
<li style="display: list-item; margin-bottom: 1.6px; margin-left: 0px; margin-top: 0px;"><span style="font-family: Arial;"><span style="text-decoration: none;">Starting with the second row in the table above (two bytes),</span> <u>every additional byte extends the maximum number of bits by five</u> (six additional bits from the additional continuation byte, minus one bit lost in the first byte).</span></li>
<li style="text-decoration: none; display: list-item; margin-bottom: 1.6px; margin-left: 0px; margin-top: 0px;"><span style="font-family: Arial;">Prosser’s and Thompson’s scheme was sufficiently general to be extended beyond 6-byte sequences (however, this would have allowed FE or FF bytes to occur in valid UTF-8 text — see under Advantages in section &quot;<a href="http://en.wikipedia.org/wiki/UTF-8#Compared_to_single-byte_encodings" style="border-bottom-color:rgb(6, 69, 173);border-left-color:rgb(6, 69, 173);border-right-color:rgb(6, 69, 173);border-top-color:rgb(6, 69, 173);color:rgb(6, 69, 173);cursor:pointer;display:inline;margin-bottom:0px;unicode-bidi:normal;-moz-column-rule-color:rgb(6, 69, 173);">Compared to single byte encodings</a>&quot; below — and indefinite extension would lose the desirable feature that the length of a sequence can be determined from the start byte only).</span></li>
</ol>
<div style="border-collapse: separate; font-style: normal; font-variant: normal; font-weight: 400; letter-spacing: normal; text-transform: none; white-space: normal; word-spacing: 0px; text-decoration: none; border-spacing: 0px;">
<div><span style="font-family: Arial;"><b><span style="color: rgb(130, 17, 34);"><br/></span></b></span></div>
<div><span style="font-family: Arial;"><span style="color: rgb(130, 17, 34);"><b>UCS-2 / UTF-16</b></span></span></div>
<div style="border: 0pt none; font-style: inherit; font-weight: inherit; margin-top: 0pt; margin-right: 0pt; margin-bottom: 0pt; outline: none 0pt; padding: 1.625em 0pt 0pt; vertical-align: baseline; width: 68.9%;">
<div style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;">
<div><span style="font-family: Arial;">Little-endian UCS-2  or UTF-16 LE is the native format on Windows</span></div>
</div>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Hello-little-endian:</span></p>
<pre style="background-image: none; border: 0pt none; font-style: normal; font-weight: normal; margin: 0pt 0pt 1.625em; outline: none 0pt; padding: 0.75em 1.625em; vertical-align: baseline; background-attachment: scroll; background-color: rgb(34, 34, 34); font-variant: normal; overflow: auto; color: rgb(250, 250, 250); background-position: 0% 0%; background-repeat: repeat repeat;">
<span style="font-size: 14px;"><code style="border: 0pt none; font-style: normal; font-weight: normal; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline; font-variant: normal;"><span style="font-family: Arial;">FF FE  4800 6500 6C00 6c00 6F00
header H    e    l    l    o
</span></code><span style="font-family: Arial;">
</span></span>
</pre>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Save it again as Unicode Big Endian, and you get:</span></p>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Hello-big-endian:</span></p>
<pre style="background-image: none; border: 0pt none; font-style: normal; font-weight: normal; margin: 0pt 0pt 1.625em; outline: none 0pt; padding: 0.75em 1.625em; vertical-align: baseline; background-attachment: scroll; background-color: rgb(34, 34, 34); font-variant: normal; overflow: auto; color: rgb(250, 250, 250); background-position: 0% 0%; background-repeat: repeat repeat;">
<span style="font-size: 14px;"><code style="border: 0pt none; font-style: normal; font-weight: normal; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline; font-variant: normal;"><span style="font-family: Arial;">FE FF  0048 0065 006C 006C 006F
header H    e    l    l    o
</span></code><span style="font-family: Arial;">
</span></span>
</pre>
<div style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;">
<div><span style="font-family: Arial;">Unfortunately, things are not that simple. The BOM is actually a valid Unicode character – what if someone sent a file without a header, and that character was actually part of the file. This is an open issue in Unicode. The suggestion is to avoid U+FEFF except for headers, and use alternative characters instead (there are equivalents).</span></div>
</div>
<div style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;">
<div style="border: 0pt none; font-style: inherit; font-weight: inherit; margin-top: 0pt; margin-right: 0pt; margin-bottom: 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;">
<div><span style="font-family: Arial;">UCS-2 stores data in a flat 16-bit chunk. UTF-16 allows up to 20 bits split between 2 16-bit characters, known as a surrogate pair. Each character in the surrogate pair is an invalid unicode character by itself, but together a valid one can be extracted.</span></div>
<div><span style="font-family: Arial;"><b><span style="color: rgb(130, 17, 34);"><br/></span></b></span></div>
<div><span style="font-family: Arial;"><b><span style="color: rgb(130, 17, 34);">UTF-8</span></b></span></div>
</div>
</div>
<ul style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1.625em 2.5em; outline: none 0pt; padding: 0pt; vertical-align: baseline; list-style: square outside none;">
<li style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Code points 0 – 007F are stored as regular, single-byte ASCII.</span></li>
<li style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Code points 0080 and above are converted to binary and stored (encoded) in a series of bytes.</span></li>
<li style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline;">
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">The first “count” byte indicates the number of bytes for the codepoint, including the count byte. These bytes start with 11..0:</span></p>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">110xxxxx (11 -&gt; 2 bytes in sequence, including “count” byte)</span></p>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">1110xxxx (1110 -&gt; 3 bytes in sequence)</span></p>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">11110xxx (11110 -&gt; 4 bytes in sequence)</span></p>
</li>
<li style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline;">
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Bytes starting with 10… are “data” bytes and contain information for the codepoint. A 2-byte example looks like this</span></p>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">110xxxxx 10xxxxxx</span></p>
</li>
</ul>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">This means there are 2 bytes in the sequence. The X’s represent the binary value of the codepoint, which needs to squeeze in the remaining bits.</span></p>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Observations about UTF-8</span></p>
<ul style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1.625em 2.5em; outline: none 0pt; padding: 0pt; vertical-align: baseline; list-style: square outside none;">
<li style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">No null bytes. All ASCII characters (0-127) are the same. Non-ASCII characters all start with “1” as the highest bit.</span></li>
<li style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">ASCII text is stored identically and efficiently.</span></li>
<li style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Unicode characters start with “1” as the high bit, and can be ignored by ASCII-only programs (however, they may be discarded in some cases! See UTF-7 for more details).</span></li>
<li style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">There is a time-space tradeoff. There is processing to be done on every Unicode character, but this is a reasonable tradeoff.</span></li>
</ul>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Design principle #4</span></p>
<ul style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1.625em 2.5em; outline: none 0pt; padding: 0pt; vertical-align: baseline; list-style: square outside none;">
<li style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">UTF-8 addresses the 80% case well (ASCII), while making the other cases possible (Unicode). UCS-2 addresses all cases equally, but is inefficient in the 80% case for solve for the 99% case. But UCS-2 is less processing-intensive than UTF-8, which requires bit manipulation on all Unicode characters.</span></li>
<li style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Why does XML store data in UTF-8 instead of UCS-2? Is space or processing power more important when reading XML documents?</span></li>
<li style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Why does Windows XP store strings as UCS-2 natively? Is space or processing power more important for the OS internals?</span></li>
</ul>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">In any case, UTF-8 still needs a header to indicate how the text was encoded. Otherwise, it could be interpreted as straight ASCII with some codepage to handle values above 127. It still uses the U+FEFF codepoint as a BOM, but the BOM itself is encoded in UTF-8 (clever, eh?).</span></p>
<h2 style="border: 0pt none; font-style: inherit; font-weight: bold; margin: 1.625em 0pt 0.8125em; outline: none 0pt; padding: 0pt; vertical-align: baseline; clear: both; color: rgb(130, 17, 34);"><span style="font-size: 14px;"><span style="font-family: Arial;">UTF-8 Example</span></span></h2>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Hello-UTF-8:</span></p>
<pre style="background-image: none; border: 0pt none; font-style: normal; font-weight: normal; margin: 0pt 0pt 1.625em; outline: none 0pt; padding: 0.75em 1.625em; vertical-align: baseline; background-attachment: scroll; background-color: rgb(34, 34, 34); font-variant: normal; overflow: auto; color: rgb(250, 250, 250); background-position: 0% 0%; background-repeat: repeat repeat;">
<span style="font-size: 14px;"><code style="border: 0pt none; font-style: normal; font-weight: normal; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline; font-variant: normal;"><span style="font-family: Arial;">EF BB BF 48 65 6C 6C 6F
header   H  e  l  l  o
</span></code><span style="font-family: Arial;">
</span></span>
</pre>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Again, the ASCII text is not changed in UTF-8. Feel free to use charmap to copy in some Unicode characters and see how they are stored in UTF-8. Or, you can <a href="http://www.stanford.edu/~hc10/misc/binhexuni.html" shape="rect" style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline; color: rgb(25, 130, 209); text-decoration: none;">experiment online</a>.</span></p>
<h2 style="border: 0pt none; font-style: inherit; font-weight: bold; margin: 1.625em 0pt 0.8125em; outline: none 0pt; padding: 0pt; vertical-align: baseline; clear: both; color: rgb(130, 17, 34);"><span style="font-size: 14px;"><span style="font-family: Arial;">UTF-7</span></span></h2>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">While UTF-8 is great for ASCII, it still stores Unicode data as non-ASCII characters with the high-bit set. Some email protocols do not allow non-ASCII values, so UTF-8 data would not be sent properly. Systems that can handle data with anything in the high bit are “8-bit clean”; systems that require data have values 0-127 (like SMTP) are not. So how do we send Unicode data through them?</span></p>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Enter UTF-7. The goal is to encode Unicode data in 7 bits (0-127), which is compatible with ASCII. UTF-7 works like this</span></p>
<ul style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1.625em 2.5em; outline: none 0pt; padding: 0pt; vertical-align: baseline; list-style: square outside none;">
<li style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Codepoints in the ASCII range are stored as ASCII, except for certain symbols (+, -) that have special meaning</span></li>
<li style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Codepoints above ASCII are converted to binary, and stored in base64 encoding (stores binary information in ASCII)</span></li>
</ul>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">How do you know which ASCII letters are real ASCII, and which are base64 encoded? Easy. ASCII characters between the special symbols “+” and “-“ are considered base64 encoded.</span></p>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">“-” acts like an escape suffix character. If it follows a character, that item is interpreted literally. So, “+-“ is interpreted as “+” without any special encoding. This is how you store an actual “+” symbol in UTF-7.</span></p>
<h2 style="border: 0pt none; font-style: inherit; font-weight: bold; margin: 1.625em 0pt 0.8125em; outline: none 0pt; padding: 0pt; vertical-align: baseline; clear: both; color: rgb(130, 17, 34);"><span style="font-size: 14px;"><span style="font-family: Arial;">UTF-7 Example</span></span></h2>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Wikipedia has some UTF-7 examples, as Notepad can’t save as UTF-7.</span></p>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">“Hello” is the same as ASCII — we are using all ASCII characters and no special symbols:</span></p>
<pre style="background-image: none; border: 0pt none; font-style: normal; font-weight: normal; margin: 0pt 0pt 1.625em; outline: none 0pt; padding: 0.75em 1.625em; vertical-align: baseline; background-attachment: scroll; background-color: rgb(34, 34, 34); font-variant: normal; overflow: auto; color: rgb(250, 250, 250); background-position: 0% 0%; background-repeat: repeat repeat;">
<span style="font-size: 14px;"><code style="border: 0pt none; font-style: normal; font-weight: normal; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline; font-variant: normal;"><span style="font-family: Arial;">Byte:     48 65 6C 6C 6F
Letter:   H  e  l  l  o
</span></code><span style="font-family: Arial;">
</span></span>
</pre>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">“£1″ (1 British pound) becomes:</span></p>
<pre style="background-image: none; border: 0pt none; font-style: normal; font-weight: normal; margin: 0pt 0pt 1.625em; outline: none 0pt; padding: 0.75em 1.625em; vertical-align: baseline; background-attachment: scroll; background-color: rgb(34, 34, 34); font-variant: normal; overflow: auto; color: rgb(250, 250, 250); background-position: 0% 0%; background-repeat: repeat repeat;">
<span style="font-size: 14px;"><code style="border: 0pt none; font-style: normal; font-weight: normal; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline; font-variant: normal;"><span style="font-family: Arial;">+AKM-1
</span></code><span style="font-family: Arial;">
</span></span>
</pre>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">The characters “+AKM-” means AKM should be decoded in base64 and converted to a codepoint, which maps to 0x00A3 or the British pound symbol. The “1” is kept the same, since it is a ASCII character.</span></p>
<p style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1em; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">UTF is pretty clever, eh? It’s essentially a Unicode to ASCII conversion that removes any characters that have their highest-bit set. Most ASCII characters will look the same, except for the special characters (- and +) that need to be escaped.</span></p>
<div><span style="font-family: Arial;"><br/></span></div>
<div style="border: 0pt none; font-style: inherit; margin: 1.625em 0pt 0.8125em; outline: none 0pt; padding: 0pt; vertical-align: baseline; clear: both;">
<div><span style="font-family: Arial;"><b><span style="color: rgb(130, 17, 34);">Wrapping it up – what I’ve learned</span></b></span></div>
</div>
<ul style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt 0pt 1.625em 2.5em; outline: none 0pt; padding: 0pt; vertical-align: baseline; list-style: square outside none;">
<li style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Unicode does not mean 2 bytes. Unicode defines code points that can be stored in many different ways (UCS-2, UTF-8, UTF-7, etc.). Encodings vary in simplicity and efficiency.</span></li>
<li style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">Unicode has more than 65,535 (16 bits) worth of characters. Encodings can specify more characters, but the first 65535 cover most of the common languages.</span></li>
<li style="border: 0pt none; font-style: inherit; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline;"><span style="font-family: Arial;">You need to know the encoding to correctly read a file. You can often <em style="border: 0pt none; font-style: italic; font-weight: inherit; margin: 0pt; outline: none 0pt; padding: 0pt; vertical-align: baseline;">guess</em> that a file is Unicode based on the Byte Order Mark (BOM), but confusion can still arise unless you know the exact encoding. Even text that looks like ASCII could actually be encoded with UTF-7; you just don’t know.</span></li>
</ul>
</div>
<div style="display: block; clear: both; width: 68.9%;">
<div><span style="font-family: Arial;"><a href="http://www.utf8everywhere.org/">http://www.utf8everywhere.org/</a></span></div>
</div>
</div>
<div><span style="font-family: Arial;"><a href="http://betterexplained.com/articles/unicode/">http://betterexplained.com/articles/unicode/</a><br/></span></div>
<div><span style="font-family: Arial;"><a href="http://unicodebook.readthedocs.org/en/latest/unicode_encodings.html">http://unicodebook.readthedocs.org/en/latest/unicode_encodings.html</a><br/></span></div>
<div><span style="font-family: Arial;"><a href="http://stackoverflow.com/questions/172133/utf8-vs-utf16-vs-char-vs-what-someone-explain-this-mess-to-me">http://stackoverflow.com/questions/172133/utf8-vs-utf16-vs-char-vs-what-someone-explain-this-mess-to-me</a></span></div>
<div><span style="font-family: serif;"><span style="font-family: Arial;"><a href="http://stackoverflow.com/questions/2241348/what-is-unicode-utf-8-utf-16">http://stackoverflow.com/questions/2241348/what-is-unicode-utf-8-utf-16</a></span><br/></span></div>
</div>
</en-note></p>

  </div>

  
</article>

    </div>
    <div class="wrapper-footer">
    <div class="container">
        <footer class="footer">
            

<a href="http://facebook.com/dhval.mudawal"><i class="svg-icon facebook"></i></a>

<a href="http://github.com/dhval"><i class="svg-icon github"></i></a>

<a href="http://linkedin.com/in/dhvalmudawal"><i class="svg-icon linkedin"></i></a>


<a href="http://twitter.com/jekyllrb"><i class="svg-icon twitter"></i></a>


        </footer>
    </div>
    <p style="text-align:center;">    <small>
    © I do not claim ownership of this content. Please send me a <a href="/suggestions">message</a>, if this infringes any copyright. 
    </small> </p>
</div>
</body>

</html>